# JeJe WebOS 配置文件
# 复制此文件为 .env 并修改配置
# 应用配置
APP_NAME=JeJe WebOS
APP_VERSION=2.1.1
DEBUG=true

# 数据库配置
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=jeje_webos

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Redis密码（如果有的话）

# JWT配置
JWT_SECRET=your-super-secret-key-change-this
JWT_SECRET_OLD=  # 旧密钥（用于密钥轮换，可选）
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=10080

# JWT密钥自动轮换配置
JWT_AUTO_ROTATE=true  # 是否启用自动轮换
JWT_ROTATE_INTERVAL_MIN=25  # 轮换间隔最小值（天）
JWT_ROTATE_INTERVAL_MAX=35  # 轮换间隔最大值（天）
JWT_ROTATE_CHECK_HOUR=2  # 每日检查时间（小时，0-23）
JWT_ROTATE_CHECK_MINUTE=0  # 每日检查时间（分钟，0-59）
# JWT_ROTATE_TIMESTAMP=  # 上次轮换时间戳（自动记录）
# JWT_NEXT_ROTATE_TIME=  # 下次轮换时间（自动记录）

# 默认管理员账户配置（首次启动时自动创建）
# 如果已存在管理员账户，则不会创建
# 注意：密码不能超过 72 字节（bcrypt 限制）
ADMIN_USERNAME=admin
ADMIN_PASSWORD=Admin@123
ADMIN_PHONE=13800138000
ADMIN_NICKNAME=系统管理员

# MySQL工具路径（本地开发需要，Docker环境不需要）
MYSQL_BIN_PATH=

# 文件存储
UPLOAD_DIR=storage
MAX_UPLOAD_SIZE=104857600
MODULES_DIR=modules

# 审计日志配置
# true = 记录所有操作（包括查看/GET请求）
# false = 只记录写操作（创建/更新/删除）
AUDIT_ALL_OPERATIONS=false

# CSRF 防护配置
# true = 启用 CSRF 防护（生产环境建议开启）
# false = 禁用 CSRF 防护（开发环境可关闭）
CSRF_ENABLED=false

# 速率限制配置
# 默认请求数限制（每分钟），开发环境建议1000，生产环境可根据实际情况调整
RATE_LIMIT_REQUESTS=1000
# 时间窗口（秒），通常为60秒
RATE_LIMIT_WINDOW=60
# 超限后封禁时间（秒），开发环境建议30秒，生产环境建议60-300秒
RATE_LIMIT_BLOCK_DURATION=30
# 是否将本地IP加入白名单（开发环境推荐开启，生产环境建议关闭）
RATE_LIMIT_ENABLE_WHITELIST_LOCALHOST=true
